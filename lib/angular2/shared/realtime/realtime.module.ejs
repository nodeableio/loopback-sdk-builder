import { APP_INITIALIZER, Injector, NgModule } from '@angular/core';
<% var modelList = []; for (var modelName in models) {var model = models[modelName];modelName = modelName[0].toUpperCase() + modelName.slice(1);-%>
<% if (model.sharedClass.ctor.definition.settings.mixins.Socket) { modelList.push(modelName); -%>
<% } -%>
<% } // for modelName in models %>
<%for (var model in modelList){ -%>
import { <%= modelList[model] %>Socket } from './<%- modelList[model] %>';
<%}%>
export function init_app(
    <%for (var model in modelList){%>
    <%= modelList[model].toLowerCase() %>: <%=modelList[model] %>Socket,<%}%>
) {
    return () => {};
}

@NgModule({
    providers: [
        {
            provide: APP_INITIALIZER,
            useFactory: init_app,
            deps: [<%for (var model in modelList){%>
            <%= modelList[model] %>Socket,<%}%>
            ],
            multi: true
        }
    ]
})
export class CodeRealtimeModule {}
